<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="DantecMarket.Vues.AccueilPage"
             BackgroundColor="#E3E3E3"
             Title="AccueilPage">
    <ScrollView>

        <StackLayout Spacing="20">

            <Grid BackgroundColor="#2D2D2D">
                <!-- Définition des lignes -->
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="60"/>
                </Grid.RowDefinitions>
                <!-- Définition des lignes -->
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="150"/>
                </Grid.ColumnDefinitions>

                <!-- Section des événements actuels -->
                <!-- Image des produits en ce moment -->
                <VerticalStackLayout Grid.Row="0" Grid.ColumnSpan="2">
                    <!-- CarouselView pour les images des produits -->
                    <CarouselView x:Name="carouselViewProduits"
                                  Margin="0,20,0,20">
                        <CarouselView.ItemTemplate>
                            <DataTemplate>
                                <Image Source="{Binding .}"
                                       MaximumHeightRequest="200"/>
                            </DataTemplate>
                        </CarouselView.ItemTemplate>
                    </CarouselView>

                    <!-- IndicatorView pour les indicateurs -->
                    <IndicatorView x:Name="indicatorView"
                                   HorizontalOptions="Center"
                                   VerticalOptions="Center"
                                   IndicatorColor="DarkGray"
                                   SelectedIndicatorColor="White"
                                   IndicatorSize="10"
                                   Count="{Binding Source={x:Reference carouselViewProduits}, Path=ItemsSource.Count}"
                                   Position="{Binding Source={x:Reference carouselViewProduits}, Path=Position}" >
                        <IndicatorView.IndicatorTemplate>
                            <DataTemplate>
                                <BoxView WidthRequest="75"
                                         HeightRequest="5"
                                         CornerRadius="2"
                                         Color="{Binding ., Converter={StaticResource IndicatorColorConverter}}"/>
                            </DataTemplate>
                        </IndicatorView.IndicatorTemplate>
                    </IndicatorView>
                </VerticalStackLayout>

                <!-- Bouton sur image des produits en ce moment -->
                <StackLayout Grid.Row="0" Grid.ColumnSpan="2" HorizontalOptions="CenterAndExpand" VerticalOptions="CenterAndExpand">
                    <Label Text="En ce moment" TextColor="Black" Opacity="0.90" FontSize="Large">
                        <Label.Background Opacity="0.80">
                            <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                <GradientStop Color="#DFBA61" Offset="0.0"/>
                                <GradientStop Color="#F3E5AB" Offset="1.0" />
                            </LinearGradientBrush>
                        </Label.Background>
                    </Label>
                </StackLayout>

                <!-- Section des points -->
                <StackLayout Grid.Row="1" Grid.Column="0" Orientation="Horizontal" HorizontalOptions="Center">
                    <Label Text="Vous disposez de 10 points" HorizontalOptions="StartAndExpand" TextColor="White" VerticalOptions="Center"/>
                </StackLayout>

                <AbsoluteLayout Grid.Row="1" Grid.Column="1" HorizontalOptions="Center" VerticalOptions="CenterAndExpand">
                    <Button Text="En profiter" CornerRadius="50" TextColor="Black">
                        <Button.Background>
                            <LinearGradientBrush StartPoint="0,0" EndPoint="1,0">
                                <GradientStop Color="#DFBA61" Offset="0.0" />
                                <GradientStop Color="#F3E5AB" Offset="1.0" />
                            </LinearGradientBrush>
                        </Button.Background>
                    </Button>
                </AbsoluteLayout>
            </Grid>

            <!-- Section des catégories -->
            <Label Text="Parcourir les catégories" HorizontalOptions="Center" FontSize="Medium" FontAttributes="Bold"/>
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="*" />
                    <RowDefinition Height="*" />
                    <RowDefinition Height="*" />
                    <RowDefinition Height="*" />
                    <RowDefinition Height="*" />
                </Grid.RowDefinitions>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                </Grid.ColumnDefinitions>

                <!-- Partie avec les catégories -->
                <Frame Grid.Row="0" Grid.Column="0" CornerRadius="20" BackgroundColor="#E3E3E3" BorderColor="Transparent">
                    <StackLayout>
                        <ImageButton Source="categorie3.jpg"  HeightRequest="110" CornerRadius="20" Aspect="AspectFill"/>
                        <Label Text="Epicerie sucrée" HorizontalOptions="Center"/>
                    </StackLayout>
                </Frame>

                <Frame Grid.Row="0" Grid.Column="1" CornerRadius="20" BackgroundColor="#E3E3E3" BorderColor="Transparent">
                    <StackLayout>
                        <ImageButton Source="categorie3.jpg" HeightRequest="110" CornerRadius="20" Aspect="AspectFill"/>
                        <Label Text="Epicerie salée" HorizontalOptions="Center"/>
                    </StackLayout>
                </Frame>

                <Frame Grid.Row="0" Grid.Column="2" CornerRadius="20" BackgroundColor="#E3E3E3" BorderColor="Transparent">
                    <StackLayout>
                        <ImageButton Source="categorie3.jpg" HeightRequest="110" CornerRadius="20" Aspect="AspectFill"/>
                        <Label Text="Boissons" HorizontalOptions="Center"/>
                    </StackLayout>
                </Frame>

                <Frame Grid.Row="1" Grid.Column="0" CornerRadius="20" BackgroundColor="#E3E3E3" BorderColor="Transparent">
                    <StackLayout>
                        <ImageButton Source="categorie3.jpg" HeightRequest="110" CornerRadius="20" Aspect="AspectFill"/>
                        <Label Text="Beauté-Esthétique" HorizontalOptions="Center"/>
                    </StackLayout>
                </Frame>

                <Frame Grid.Row="1" Grid.Column="1" CornerRadius="20" BackgroundColor="#E3E3E3" BorderColor="Transparent">
                    <StackLayout>
                        <ImageButton Source="categorie3.jpg" HeightRequest="110" CornerRadius="20" Aspect="AspectFill"/>
                        <Label Text="Papeterie" HorizontalOptions="Center"/>
                    </StackLayout>
                </Frame>

                <Frame Grid.Row="1" Grid.Column="2" CornerRadius="20" BackgroundColor="#E3E3E3" BorderColor="Transparent">
                    <StackLayout>
                        <ImageButton Source="categorie3.jpg" HeightRequest="110" CornerRadius="20" Aspect="AspectFill"/>
                        <Label Text="Décoration" HorizontalOptions="Center"/>
                    </StackLayout>
                </Frame>

                <Frame Grid.Row="2" Grid.Column="0" CornerRadius="20" BackgroundColor="#E3E3E3" BorderColor="Transparent">
                    <StackLayout>
                        <ImageButton Source="categorie3.jpg" HeightRequest="110" CornerRadius="20" Aspect="AspectFill"/>
                        <Label Text="Bijoux" HorizontalOptions="Center"/>
                    </StackLayout>
                </Frame>

                <Frame Grid.Row="2" Grid.Column="1" CornerRadius="20" BackgroundColor="#E3E3E3" BorderColor="Transparent">
                    <StackLayout>
                        <ImageButton Source="categorie3.jpg" HeightRequest="110" CornerRadius="20" Aspect="AspectFill"/>
                        <Label Text="Textiles" HorizontalOptions="Center"/>
                    </StackLayout>
                </Frame>

                <Frame Grid.Row="2" Grid.Column="2" CornerRadius="20" BackgroundColor="#E3E3E3" BorderColor="Transparent">
                    <StackLayout>
                        <ImageButton Source="categorie3.jpg" HeightRequest="110" CornerRadius="20" Aspect="AspectFill"/>
                        <Label Text="Librairie" HorizontalOptions="Center"/>
                    </StackLayout>
                </Frame>

                <Frame Grid.Row="3" Grid.Column="0" CornerRadius="20" BackgroundColor="#E3E3E3" BorderColor="Transparent">
                    <StackLayout>
                        <ImageButton Source="categorie3.jpg" HeightRequest="110" CornerRadius="20" Aspect="AspectFill"/>
                        <Label Text="Animalerie" HorizontalOptions="Center"/>
                    </StackLayout>
                </Frame>

                <Frame Grid.Row="3" Grid.Column="1" CornerRadius="20" BackgroundColor="#E3E3E3" BorderColor="Transparent">
                    <StackLayout>
                        <ImageButton Source="categorie3.jpg" HeightRequest="110" CornerRadius="20" Aspect="AspectFill"/>
                        <Label Text="Produits tendances" HorizontalOptions="Center"/>
                    </StackLayout>
                </Frame>

                <Frame Grid.Row="3" Grid.Column="2" CornerRadius="20" BackgroundColor="#E3E3E3" BorderColor="Transparent" VerticalOptions="CenterAndExpand">
                    <StackLayout>
                        <ImageButton Source="categorie3.jpg" HeightRequest="110" CornerRadius="20" Aspect="AspectFill"/>
                        <Label Text="Seconde main" />
                    </StackLayout>
                </Frame>

                <Frame Grid.Row="4" Grid.Column="0" CornerRadius="20" BackgroundColor="#E3E3E3" BorderColor="Transparent">
                    <StackLayout>
                        <ImageButton Source="categorie3.jpg" HeightRequest="110" CornerRadius="20" Aspect="AspectFill"/>
                        <Label Text="Zéro déchet" HorizontalOptions="Center"/>
                    </StackLayout>
                </Frame>

                <Frame Grid.Row="4" Grid.Column="1" CornerRadius="20" BackgroundColor="#E3E3E3" BorderColor="Transparent">
                    <StackLayout>
                        <ImageButton Source="categorie3.jpg" HeightRequest="110" CornerRadius="20" Aspect="AspectFill"/>
                        <Label Text="Promotions" HorizontalOptions="Center" />
                    </StackLayout>
                </Frame>

            </Grid>
        </StackLayout>
    </ScrollView>
</ContentPage>